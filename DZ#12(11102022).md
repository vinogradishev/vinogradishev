### ДЗ №12 "Триггеры, поддержка заполнения витрин."

##### 1 . Создал триггерную функцию, которая будет выполнять действия в зависимости от условий. Я решил сначала проверять существует ли строка с названием товара в таблице(витрине), если такая трока существует, тогда выполняется проверка операции: INSERT, DELETE или UPDATE, в зависимости от операции надо выполнить обновление строк. Если строки не существует, тогда и обновлять и удалять нечего. 

>> ![alt tag](https://github.com/vinogradishev/vinogradishev/blob/7a0a04cf9de45c5d90b17620d3c216acfa9c356a/crfunction.png)
##### 2 . Создал триггер, который будет запускаться при INSERT, DELETE и UPDATE и вызывать, ранее созданную функцию.

>> ![alt tag](https://github.com/vinogradishev/vinogradishev/blob/7a0a04cf9de45c5d90b17620d3c216acfa9c356a/crtrigger.png)

##### 3 . Такой подход, триггер + витрина, будет отражать реальные продажи, в зависимости от цены на момент продаж, а отчёт будет выдавать стоимость продаж по цене на данный момент, что будет не корректно. Товар мог быть продан по одной цене, а на момент формирования отчёта цена может поменяться, тогда сумма не будет отражать реальной прибыли, это косяк.
